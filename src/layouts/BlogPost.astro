---
import FormattedDate from "@/components/FormattedDate.astro";
import MainLayout from "./MainLayout.astro";
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
type Props = CollectionEntry<"blog">["data"];
const { heroImage, title, tags, pubDate } = Astro.props;
import "@/styles/blog.css";
---

<MainLayout title={title}>
    <div class="max-w-article-size mx-auto w-full space-y-4">
        <a
            class="text-orange-500 border-orange-500 inline-flex cursor-pointer items-center hover:no-underline gap-2 self-start rounded-full border px-6 py-2 transition-colors duration-200 hover:bg-orange-500 hover:text-white no-underline group"
            href="/blog"
        >
            <svg
                viewBox="0 -960 960 960"
                xmlns="http://www.w3.org/2000/svg"
                height="20"
                width="20"
                class="fill-current text-orange-500 transition-colors duration-200 group-hover:text-white"
            >
                <path
                    d="m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"
                ></path>
            </svg>

            <span class="hover:text-white hover:no-underline">Back to blog</span
            >
        </a>

        <div class="" transition:name={title}>
            <article>
                <Image
                    class="max-h-[360px] object-contain"
                    width={1020}
                    height={520}
                    src={heroImage}
                    alt="heroImage"
                />

                <div class="px-4">
                    <div class="flex flex-wrap gap-2">
                        {
                            tags.map((tag) => (
                                <span class="bg-orange-500 rounded-full px-3 pt-1 pb-0.5 text-sm text-white ">
                                    {tag}
                                </span>
                            ))
                        }
                    </div>

                    <h1 class="border-none my-2 p-0">{title}</h1>
                    <FormattedDate date={pubDate} />
                    <hr class="mt-2" />
                    <slot />
                </div>
            </article>
        </div>
    </div>
</MainLayout>
